
Wed Oct 13 16:40:34 BST 1999 djr
================================

- Fixed bug in omniidl3.  Typedef of objref as member of exception
  caused seg fault.

src/tool/omniidl3/omniORB2_be/o2be_exception.cc


Wed Oct 13 16:11:27 BST 1999 sll
================================

- Added #include <unistd.h> for AIX


Wed Oct 13 16:11:27 BST 1999 djr
================================

src/lib/omnithread/posix.cc

- Fixed omniidl3 bugs:

   Fixed mapping for server-skeleton signatures.  inout parameters
   should not use _INOUT_arg types.

   Call descriptors for operations and attributes used different naming
   conventions for members, and had different constructors, but can be
   used interchangeably (so need to export identical interfaces).

src/too/omniidl2/omniORB2_be/o2be.h
src/too/omniidl2/omniORB2_be/o2be_attribute.cc
src/too/omniidl2/omniORB2_be/o2be_interface.cc
src/too/omniidl2/omniORB2_be/o2be_operation.cc


Wed Oct 13 13:38:21 BST 1999 djr
================================

- Don't use virtual inheritance in examples (not needed).

src/examples/echo/eg1.cc
src/examples/echo/eg2_impl.cc
src/examples/echo/eg3_impl.cc
src/examples/poa/implicit_activation/eg1.cc

- Fixed repository id returned by CORBA::Exception::_NP_repoId().
  It did not include the version number of system exceptions.

src/lib/omniORB2/orbcore/exceptn.cc

- Out-of-date name for tcDescriptor for CORBA::Object.

include/omniORB3/tcDescriptor.h

- Added typedef for TypeCode_out.

include/omniORB3/CORBA_vartypes.h


Mon Oct  4 18:05:57 BST 1999 djr
================================

- A whole bunch on minor MSVC work-arounds.

include/omniORB3/userexception.h
src/lib/omniORB2/orbcore/anonObject.h
src/lib/omniORB2/orbcore/bootstrap_i.cc
src/lib/omniORB2/orbcore/callDescriptor.cc
src/lib/omniORB2/orbcore/corbaBoa.cc
src/lib/omniORB2/orbcore/corbaOrb.cc
src/lib/omniORB2/orbcore/poaimpl.h
src/lib/omniORB2/orbcore/poamanager.h
src/lib/omniORB2/orbcore/poastubs.cc
src/lib/omniORB2/orbcore/portableserver.cc
src/tool/omniidl2/omniORB2_be/o2be_interface.cc


Mon Oct  4 16:39:10 BST 1999 djr
================================

- Constructor for _objref_foo calls Object rather than CORBA::Object to
  avoid scoping problem with MSVC.

include/omniORB3/poa_defs.hh
src/tool/omniidl2/omniORB2_be/o2be_interface.cc

- Workaround for MSVC bug (inserting StringBuf into stream).

src/tool/omniidl2/omniORB2_be/o2be_util.cc

- Re-organised macros to avoid dodgy missing parameter.

include/omniORB3/userexception.h


Thu Sep 30 12:43:39 BST 1999 djr
================================

- New MACRO HAS_Cplusplus_catch_exception_by_base.

- Implemented catching user-defined exceptions in stubs for
  compilers which have no support for catching exceptions by
  base class.

include/omniORB3/CORBA_sysdep.h
include/omniORB3/giopDriver.h
include/omniORB3/omniORB.h
src/lib/omniORB3/giopServer.cc
src/tool/omniidl2/omniORB2_be/o2be_operation.cc

- Implemented use of PortableServer::AdapterActivators in POAs.

src/lib/omniORB2/poa.cc
src/lib/omniORB2/poaimpl.h
src/lib/omniORB2/poamanager.cc
src/lib/omniORB2/poamanager.h

- Implemented '_interface' for BOA servants.

src/lib/omniORB2/orbcore/corbaBoa.cc


Thu Sep 30 09:58:02 BST 1999 djr
================================

- Fixed bug in omniNames.  Did not call _remove_ref() on implementation
  objects after activating them -- so they were not cleaned up.

src/appl/omniNames/log.cc
src/appl/omniNames/NamingContext_i.cc


Wed Sep 29 14:08:03 BST 1999 djr
================================

- Updated mapping of operation signatures for skeletons to use
  T_out types for out arguments.  The old signatures can be used
  by specifying the -Bold_signatures flag.

- Renamed all flags to omniidl3 relating to backwards-compatiblity
    -c -> -Bold_reserved_prefix
    -b -> -Bboa

src/tool/omniidl2/include/idl_defines.hh
src/tool/omniidl2/omniORB2_be/o2be_cfe_interface.cc
src/tool/omniidl2/omniORB2_be/o2be_interface.cc

- Updated omniNames to use the new mapping.

src/appl/omniNames/BindingIterator_i.h
src/appl/omniNames/NamingContext_i.h
src/appl/omniNames/NamingContext_i.cc


Tue Sep 28 11:39:14 BST 1999 djr
================================

- Removed pretty-printing of object keys from object adapters.

src/lib/omniORB2/orbcore/corbaBoa.cc
src/lib/omniORB2/orbcore/corbaBoa.h
src/lib/omniORB2/orbcore/logIOstream.cc
src/lib/omniORB2/orbcore/objectAdapter.h
src/lib/omniORB2/orbcore/poa.cc
src/lib/omniORB2/orbcore/poaimpl.h
src/lib/omniORB2/orbcore/remoteIdentity.cc


Tue Sep 28 10:33:30 BST 1999 djr
================================

- Corrected declaration of ObjectId_to_string and string_to_ObjectId.

include/omniORB3/poa.h

- Properly escape characters in include file guards.
  Removed dangerous default argument to StringBuf constructor.

src/tool/omniidl2/omniORB2_be/o2be_root.cc

- Check for zero length 'operation' string when unmarshalling GIOP
  Request header.  Fixed bug -- 'principal' field need not be zero
  terminated.

src/lib/omniORB2/orbcore/giopServer.cc

